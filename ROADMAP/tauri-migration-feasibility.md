# Vibe Kanban Tauri è¿ç§»å¯è¡Œæ€§åˆ†æ

> **æ–‡æ¡£ç‰ˆæœ¬**: 1.0
> **åˆ›å»ºæ—¥æœŸ**: 2025-01-15
> **ç›®æ ‡å¹³å°**: macOS
> **åˆ†æèŒƒå›´**: B/S æ¶æ„åˆ° Tauri æ¡Œé¢åº”ç”¨çš„è¿ç§»å¯è¡Œæ€§

## æ‰§è¡Œæ‘˜è¦

Vibe Kanban æ˜¯ä¸€ä¸ªåŸºäº Rust + Axum åç«¯å’Œ React + TypeScript å‰ç«¯çš„ B/S æ¶æ„åº”ç”¨ã€‚ç»è¿‡æ·±å…¥åˆ†æï¼Œ**å°†å…¶è¿ç§»åˆ° Tauri æ¶æ„åœ¨æŠ€æœ¯ä¸Šæ˜¯å¯è¡Œçš„**ï¼Œä½†å­˜åœ¨å¤šä¸ªéœ€è¦æƒè¡¡çš„æŠ€æœ¯æŒ‘æˆ˜å’Œæ¶æ„è°ƒæ•´ã€‚

**æ ¸å¿ƒç»“è®º**:
- âœ… **æŠ€æœ¯å¯è¡Œæ€§**: é«˜ - Tauri 2.0 å®Œå…¨æ”¯æŒæ‰€éœ€çš„æ¶æ„æ¨¡å¼
- âš ï¸ **è¿ç§»å¤æ‚åº¦**: ä¸­é«˜ - éœ€è¦é‡æ„ç°æœ‰çš„ HTTP é€šä¿¡å±‚
- ğŸ¯ **æ¨èç­–ç•¥**: é‡‡ç”¨ **Sidecar æ¶æ„** ä¿ç•™ç°æœ‰ Rust åç«¯ï¼Œæ¸è¿›å¼è¿ç§»

---

## 1. ç°æœ‰æ¶æ„åˆ†æ

### 1.1 æŠ€æœ¯æ ˆæ¦‚è§ˆ

**åç«¯ (Rust)**:
- **Web æ¡†æ¶**: Axum 0.8.4 (å¼‚æ­¥ HTTP æœåŠ¡å™¨)
- **æ•°æ®åº“**: SQLite (SQLx 0.8.6)
- **å¼‚æ­¥è¿è¡Œæ—¶**: Tokio
- **å…³é”®ä¾èµ–**:
  - `git2` - Git æ“ä½œ
  - `executors` - ç¼–ç ä»£ç†æ‰§è¡Œå™¨ (Claude, Codex, Cursor ç­‰)
  - `sqlx` - æ•°æ®åº“ ORM
  - `rmcp` - MCP æœåŠ¡å™¨
  - `sentry` - é”™è¯¯è¿½è¸ª
  - `reqwest` - HTTP å®¢æˆ·ç«¯

**å‰ç«¯ (React + TypeScript)**:
- **æ„å»ºå·¥å…·**: Vite 5.0
- **UI æ¡†æ¶**: React 18.2 + Radix UI
- **çŠ¶æ€ç®¡ç†**: Zustand + TanStack Query
- **è·¯ç”±**: React Router DOM
- **æ ·å¼**: Tailwind CSS

**éƒ¨ç½²æ–¹å¼**:
- é€šè¿‡ `npx vibe-kanban` å¯åŠ¨
- åç«¯ç›‘å¬ `127.0.0.1:{auto_port}`
- å‰ç«¯é€šè¿‡ HTTP ä¸åç«¯é€šä¿¡
- ç”Ÿäº§æ¨¡å¼ä¸‹è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨

### 1.2 æ ¸å¿ƒæ¶æ„ç‰¹ç‚¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Vibe Kanban æ¶æ„                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         HTTP/WebSocket          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   React å‰ç«¯    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Axum åç«¯      â”‚              â”‚
â”‚  â”‚   (Vite)        â”‚                                  â”‚  (Rust)         â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                               â”‚                         â”‚
â”‚                                                               â–¼                         â”‚
â”‚                                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                                                     â”‚  SQLite æ•°æ®åº“  â”‚              â”‚
â”‚                                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                               â–²                         â”‚
â”‚                                                               â”‚                         â”‚
â”‚                                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                                                     â”‚  Git Worktrees  â”‚              â”‚
â”‚                                                     â”‚  ç¼–ç ä»£ç†è¿›ç¨‹    â”‚              â”‚
â”‚                                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                              â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®å‘ç°**:
1. **åç«¯é€»è¾‘å¯†é›†**: å¤§é‡ä¸šåŠ¡é€»è¾‘åœ¨ Rust åç«¯å®ç°
2. **è¿›ç¨‹ç®¡ç†å¤æ‚**: éœ€è¦ç®¡ç†å¤šä¸ªå¤–éƒ¨è¿›ç¨‹ (ç¼–ç ä»£ç†ã€Git æ“ä½œ)
3. **WebSocket å®æ—¶é€šä¿¡**: æ”¯æŒå®æ—¶äº‹ä»¶æ¨é€
4. **æ–‡ä»¶ç³»ç»Ÿæ“ä½œ**: é¢‘ç¹çš„æ–‡ä»¶è¯»å†™ã€Git æ“ä½œ
5. **æœ¬åœ°æ•°æ®æŒä¹…åŒ–**: ä½¿ç”¨ SQLite å­˜å‚¨åº”ç”¨çŠ¶æ€

---

## 2. Tauri 2.0 æ¶æ„é€‚é…æ€§åˆ†æ

### 2.1 Tauri 2.0 æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | Vibe Kanban éœ€æ±‚ | é€‚é…æ€§è¯„ä¼° |
|------|------------------|------------|
| **Rust åç«¯** | âœ… å·²æœ‰ Rust ä»£ç åº“ | å®Œç¾é€‚é…ï¼Œå¯ç›´æ¥å¤ç”¨ |
| **React å‰ç«¯** | âœ… å·²æœ‰ React ä»£ç  | æ— ç¼è¿ç§» |
| **IPC é€šä¿¡** | âš ï¸ å½“å‰ä½¿ç”¨ HTTP | éœ€è¦è°ƒæ•´ä¸º Tauri Commands |
| **SQLite** | âœ… å½“å‰ä½¿ç”¨ SQLx + SQLite | å¯ç»§ç»­ä½¿ç”¨æˆ–è¿ç§»åˆ° Tauri SQL æ’ä»¶ |
| **è¿›ç¨‹ç®¡ç†** | âœ… ç®¡ç†ç¼–ç ä»£ç†è¿›ç¨‹ | ä½¿ç”¨ Tauri Shell æ’ä»¶ |
| **æ–‡ä»¶ç³»ç»Ÿ** | âœ… Git æ“ä½œã€æ–‡ä»¶è¯»å†™ | ä½¿ç”¨ Tauri FS æ’ä»¶ |
| **WebSocket** | âš ï¸ å®æ—¶äº‹ä»¶æ¨é€ | éœ€è¦é‡æ–°è®¾è®¡é€šä¿¡æœºåˆ¶ |
| **macOS åŸç”Ÿæ”¯æŒ** | âœ… ç›®æ ‡å¹³å° | åŸç”Ÿæ”¯æŒ |

### 2.2 ä¸¤ç§è¿ç§»ç­–ç•¥å¯¹æ¯”

#### ç­–ç•¥ A: å®Œå…¨é‡æ„ (IPC Commands)

**æ¶æ„æ¨¡å¼**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Tauri å®Œå…¨é‡æ„æ¶æ„                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         Tauri IPC              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   React å‰ç«¯    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Tauri åç«¯     â”‚              â”‚
â”‚  â”‚   (WebView)     â”‚         (invoke/commands)       â”‚  (Rust)         â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                               â”‚                         â”‚
â”‚                                                               â–¼                         â”‚
â”‚                                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                                                     â”‚  SQLite æ•°æ®åº“  â”‚              â”‚
â”‚                                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                              â”‚                         â”‚
â”‚                                                              â–¼                         â”‚
â”‚                                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                                                     â”‚  Git æ“ä½œ       â”‚              â”‚
â”‚                                                     â”‚  è¿›ç¨‹ç®¡ç†        â”‚              â”‚
â”‚                                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                              â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿**:
- âœ… åŸç”Ÿæ€§èƒ½ï¼ŒIPC è°ƒç”¨æ¯” HTTP æ›´å¿«
- âœ… æ›´å°çš„åº”ç”¨ä½“ç§¯ (æ— éœ€åµŒå…¥ Web æœåŠ¡å™¨)
- âœ… æ›´å¥½çš„å®‰å…¨æ€§ (IPC æƒé™æ§åˆ¶)
- âœ… ç¬¦åˆ Tauri æœ€ä½³å®è·µ

**åŠ£åŠ¿**:
- âŒ éœ€è¦å¤§è§„æ¨¡é‡æ„ç°æœ‰çš„ Axum è·¯ç”± (40+ ä¸ª API ç«¯ç‚¹)
- âŒ éœ€è¦é‡å†™æ‰€æœ‰ HTTP è°ƒç”¨ä¸º Tauri Commands
- âŒ WebSocket å®æ—¶é€šä¿¡éœ€è¦é‡æ–°è®¾è®¡
- âŒ å¼€å‘å‘¨æœŸé•¿ï¼Œæµ‹è¯•æˆæœ¬é«˜

#### ç­–ç•¥ B: Sidecar æ¶æ„ (æ¨è)

**æ¶æ„æ¨¡å¼**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Tauri Sidecar æ¶æ„ (æ¨è)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚  â”‚      Tauri æ¡Œé¢åº”ç”¨          â”‚                                                     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                                     â”‚
â”‚  â”‚  â”‚    React å‰ç«¯         â”‚  â”‚              HTTP/WebSocket (localhost)            â”‚
â”‚  â”‚  â”‚    (WebView)          â”‚â—„â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                             â”‚       â”‚
â”‚  â”‚                              â”‚                                             â”‚       â”‚
â”‚  â”‚  Tauri Commands (è½»é‡)       â”‚                                             â–¼       â”‚
â”‚  â”‚  - åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†           â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - åŸç”Ÿçª—å£/èœå•æ§åˆ¶           â”‚                                    â”‚  Axum åç«¯      â”‚  â”‚
â”‚  â”‚  - ç³»ç»Ÿæ‰˜ç›˜é›†æˆ               â”‚                                    â”‚  (Sidecar)      â”‚  â”‚
â”‚  â”‚  - è‡ªåŠ¨æ›´æ–°                   â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚                              â”‚                                             â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â–¼           â”‚
â”‚                                                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                                                            â”‚  SQLite æ•°æ®åº“  â”‚  â”‚
â”‚                                                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                     â”‚           â”‚
â”‚                                                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                                                          â”‚  Git Worktrees    â”‚  â”‚
â”‚                                                                          â”‚  ç¼–ç ä»£ç†è¿›ç¨‹      â”‚  â”‚
â”‚                                                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                     â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                                      â”‚
                                                                              Tauri Shell Plugin
                                                                              (Sidecar è¿›ç¨‹ç®¡ç†)
```

**ä¼˜åŠ¿**:
- âœ… **ä¿ç•™ç°æœ‰æ¶æ„**: Axum åç«¯å‡ ä¹æ— éœ€ä¿®æ”¹
- âœ… **æ¸è¿›å¼è¿ç§»**: å¯ä»¥é€æ­¥å°†åŠŸèƒ½è¿ç§»åˆ° Tauri Commands
- âœ… **å¼€å‘æˆæœ¬ä½**: ä¸»è¦å·¥ä½œæ˜¯å‰ç«¯è°ƒæ•´å’Œ Tauri é…ç½®
- âœ… **ä¿æŒçµæ´»æ€§**: å¯ä»¥ç»§ç»­ä½¿ç”¨ç°æœ‰çš„ WebSocket å®ç°
- âœ… **æ˜“äºå›æ»š**: å¦‚æœå‡ºç°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå›åˆ° B/S æ¨¡å¼

**åŠ£åŠ¿**:
- âš ï¸ ç¨å¤§çš„åº”ç”¨ä½“ç§¯ (åµŒå…¥ Rust äºŒè¿›åˆ¶)
- âš ï¸ éœ€è¦ç®¡ç†ä¸¤ä¸ªè¿›ç¨‹ (Tauri ä¸»è¿›ç¨‹ + Sidecar)
- âš ï¸ localhost é€šä¿¡è€ŒéåŸç”Ÿ IPC

---

## 3. å…³é”®æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ

### 3.1 HTTP é€šä¿¡é€‚é…

**æŒ‘æˆ˜**: å‰ç«¯å½“å‰ä½¿ç”¨ `fetch`/`axios` è°ƒç”¨ `http://127.0.0.1:{port}` API

**è§£å†³æ–¹æ¡ˆ** (Sidecar æ¨¡å¼):
```typescript
// å¼€å‘ç¯å¢ƒ: ä½¿ç”¨å½“å‰çš„å¼€å‘æœåŠ¡å™¨
// ç”Ÿäº§ç¯å¢ƒ: ä½¿ç”¨ localhost Sidecar

const API_BASE = import.meta.env.MODE === 'development'
  ? 'http://127.0.0.1:BACKEND_PORT'  // å½“å‰å¼€å‘æ¨¡å¼
  : 'http://127.0.0.1:SIDECAR_PORT'; // Tauri Sidecar

// æ‰€æœ‰ç°æœ‰ API è°ƒç”¨ä¿æŒä¸å˜
const response = await fetch(`${API_BASE}/api/projects`);
```

**Tauri é…ç½®**:
```json
// tauri.conf.json
{
  "bundle": {
    "externalBin": [
      "../target/release/vibe-kanban-server"  // Sidecar äºŒè¿›åˆ¶
    ]
  }
}
```

### 3.2 WebSocket å®æ—¶é€šä¿¡

**æŒ‘æˆ˜**: å½“å‰ä½¿ç”¨ Axum WebSocket è¿›è¡Œå®æ—¶äº‹ä»¶æ¨é€

**è§£å†³æ–¹æ¡ˆ**:
```rust
// åœ¨ Tauri å¯åŠ¨æ—¶å¯åŠ¨ Sidecar
#[tauri::command]
async fn start_sidecar(app: AppHandle) -> Result<u16, String> {
    let sidecar_command = app.shell().sidecar("vibe-kanban-server").unwrap();
    let (mut rx, _child) = sidecar_command.spawn().expect("Failed to spawn sidecar");

    // ç›‘å¬ Sidecar è¾“å‡ºè·å–ç«¯å£
    tauri::async_runtime::spawn(async move {
        while let Some(event) = rx.recv().await {
            if let CommandEvent::Stdout(line) = event {
                // è§£ææœåŠ¡å™¨è¾“å‡ºçš„ç«¯å£å·
                if let Ok(port) = parse_port_from_output(&line) {
                    // é€šè¿‡äº‹ä»¶å‘é€ç»™å‰ç«¯
                    app.emit("server-ready", port).ok();
                    break;
                }
            }
        }
    });

    Ok(0)
}
```

### 3.3 SQLite æ•°æ®åº“è·¯å¾„

**æŒ‘æˆ˜**: æ•°æ®åº“æ–‡ä»¶è·¯å¾„éœ€è¦é€‚é… Tauri çš„ç›®å½•ç»“æ„

**è§£å†³æ–¹æ¡ˆ**:
```rust
// ä½¿ç”¨ Tauri çš„è·¯å¾„è§£æ
use tauri::path::BaseDirectory;

#[tauri::command]
async fn get_db_path(app: AppHandle) -> Result<String, String> {
    let app_dir = app.path().resolve("", BaseDirectory::AppData)
        .map_err(|e| e.to_string())?;

    // ç¡®ä¿ Vibe Kanban å­ç›®å½•å­˜åœ¨
    let vk_dir = app_dir.join("vibe-kanban");
    std::fs::create_dir_all(&vk_dir).map_err(|e| e.to_string())?;

    Ok(vk_dir.join("vibe-kanban.db").to_string_lossy().to_string())
}
```

### 3.4 Git æ“ä½œå’Œæ–‡ä»¶ç³»ç»Ÿè®¿é—®

**æŒ‘æˆ˜**: åº”ç”¨éœ€è¦è®¿é—®ç”¨æˆ·é¡¹ç›®ç›®å½•è¿›è¡Œ Git æ“ä½œ

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ Tauri çš„æ–‡ä»¶ç³»ç»Ÿå¯¹è¯æ¡†è·å–æƒé™

```typescript
import { open } from '@tauri-apps/plugin-dialog';

// é€‰æ‹©é¡¹ç›®ç›®å½•
const selected = await open({
  directory: true,
  multiple: false,
  title: 'é€‰æ‹©é¡¹ç›®ç›®å½•'
});

if (selected) {
  // é€šè¿‡ API å‘é€è·¯å¾„åˆ°åç«¯
  await api.addProject(selected as string);
}
```

**æƒé™é…ç½®**:
```json
// capabilities/default.json
{
  "identifier": "default",
  "windows": ["main"],
  "permissions": [
    "core:window:allow-create",
    "core:window:allow-close",
    "core:webview:allow-create-webview",
    "shell:allow-execute",
    "shell:allow-open",
    "dialog:allow-open"
  ]
}
```

### 3.5 è¿›ç¨‹ç®¡ç†

**æŒ‘æˆ˜**: éœ€è¦ç®¡ç†å¤šä¸ªç¼–ç ä»£ç†è¿›ç¨‹ (Claude, Cursor, Codex)

**è§£å†³æ–¹æ¡ˆ**: ç»§ç»­ä½¿ç”¨ç°æœ‰çš„ `executors` crateï¼Œæ— éœ€ä¿®æ”¹

```rust
// ç°æœ‰çš„è¿›ç¨‹ç®¡ç†é€»è¾‘å¯ä»¥ç›´æ¥å¤ç”¨
// executors crate å·²ç»ä½¿ç”¨ command-group å’Œ tokio è¿›è¡Œè¿›ç¨‹ç®¡ç†
```

### 3.6 è‡ªåŠ¨æ›´æ–°

**æŒ‘æˆ˜**: macOS åº”ç”¨çš„è‡ªåŠ¨æ›´æ–°æœºåˆ¶

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ Tauri å†…ç½®çš„æ›´æ–°å™¨

```rust
// main.rs
use tauri_plugin_updater::UpdaterExt;

fn main() {
    tauri::Builder::default()
        .plugin(tauri_plugin_updater::Builder::new().build())
        .setup(|app| {
            // æ£€æŸ¥æ›´æ–°
            #[cfg(not(debug_assertions))]
            {
                app.handle().plugin(
                    tauri_plugin_updater::Builder::new().build()
                )?;
            }
            Ok(())
        })
        .run(tauri::generate_context!())
        .expect("error while running tauri application");
}
```

---

## 4. è¿ç§»å®æ–½è®¡åˆ’

### é˜¶æ®µ 1: åŸºç¡€è®¾ç½® (1-2 å‘¨)

**ç›®æ ‡**: å»ºç«‹ Tauri é¡¹ç›®æ¡†æ¶

1. **åˆå§‹åŒ– Tauri é¡¹ç›®**
   ```bash
   cd frontend
   pnpm tauri init
   ```

2. **é…ç½® Tauri**
   - è®¾ç½® `tauri.conf.json`
   - é…ç½® macOS ç‰¹å®šé€‰é¡¹
   - è®¾ç½®åº”ç”¨å›¾æ ‡å’Œå…ƒæ•°æ®

3. **åˆ›å»º Sidecar é…ç½®**
   - ä¿®æ”¹ç°æœ‰ `Cargo.toml` æ”¯æŒåº“ç¼–è¯‘
   - é…ç½® `externalBin` è·¯å¾„

**é‡Œç¨‹ç¢‘**: èƒ½å¤Ÿè¿è¡Œç©ºçš„ Tauri çª—å£

### é˜¶æ®µ 2: Sidecar é›†æˆ (2-3 å‘¨)

**ç›®æ ‡**: å®ç° Axum åç«¯ä½œä¸º Sidecar è¿è¡Œ

1. **åç«¯é€‚é…**
   - ä¿®æ”¹ç«¯å£åˆ†é…é€»è¾‘
   - æ·»åŠ çŠ¶æ€æ–‡ä»¶è¾“å‡º (ä¾› Tauri è¯»å–)
   - ä¼˜é›…çš„å¯åŠ¨/å…³é—­å¤„ç†

2. **è¿›ç¨‹ç®¡ç†**
   - å®ç° Tauri Commands å¯åŠ¨/åœæ­¢ Sidecar
   - å®ç°å¥åº·æ£€æŸ¥æœºåˆ¶
   - é”™è¯¯å¤„ç†å’Œé‡è¯•é€»è¾‘

3. **å‰ç«¯é€‚é…**
   - ä¿®æ”¹ API åŸºç¡€ URL é€»è¾‘
   - å®ç°æœåŠ¡å™¨çŠ¶æ€æ£€æµ‹
   - æ·»åŠ åŠ è½½çŠ¶æ€ UI

**é‡Œç¨‹ç¢‘**: Tauri åº”ç”¨å¯ä»¥å¯åŠ¨å¹¶è¿æ¥åˆ° Sidecar åç«¯

### é˜¶æ®µ 3: åŠŸèƒ½é›†æˆ (3-4 å‘¨)

**ç›®æ ‡**: è¿ç§»æ ¸å¿ƒåŠŸèƒ½

1. **æ•°æ®åº“è¿ç§»**
   - å®ç°æ•°æ®åº“è·¯å¾„è¿ç§»é€»è¾‘
   - é¦–æ¬¡è¿è¡Œæ—¶çš„æ•°æ®å¯¼å…¥

2. **åŸç”ŸåŠŸèƒ½é›†æˆ**
   - å®ç°ç³»ç»Ÿæ‰˜ç›˜
   - æ·»åŠ å…¨å±€å¿«æ·é”®
   - å®ç°è‡ªåŠ¨æ›´æ–°

3. **macOS ç‰¹æ€§**
   - å®ç°é¡¶éƒ¨èœå•æ é›†æˆ
   - æ·»åŠ  Touch Bar æ”¯æŒ (å¯é€‰)
   - å®ç°åŸç”Ÿé€šçŸ¥

**é‡Œç¨‹ç¢‘**: å®Œæ•´åŠŸèƒ½çš„ Tauri åº”ç”¨

### é˜¶æ®µ 4: æµ‹è¯•ä¸ä¼˜åŒ– (2-3 å‘¨)

**ç›®æ ‡**: ç¡®ä¿ç¨³å®šæ€§å’Œæ€§èƒ½

1. **æµ‹è¯•**
   - å•å…ƒæµ‹è¯•
   - é›†æˆæµ‹è¯•
   - macOS ç‰¹å®šæµ‹è¯•

2. **æ€§èƒ½ä¼˜åŒ–**
   - å¯åŠ¨æ—¶é—´ä¼˜åŒ–
   - å†…å­˜å ç”¨ä¼˜åŒ–
   - Sidecar é€šä¿¡ä¼˜åŒ–

3. **æ‰“åŒ…å‘å¸ƒ**
   - ä»£ç ç­¾åé…ç½®
   - å…¬è¯é…ç½®
   - DMG å®‰è£…åŒ…åˆ¶ä½œ

**é‡Œç¨‹ç¢‘**: å¯å‘å¸ƒçš„ macOS åº”ç”¨

---

## 5. é£é™©è¯„ä¼°ä¸ç¼“è§£æªæ–½

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| **Sidecar è¿›ç¨‹ç®¡ç†å¤æ‚æ€§** | é«˜ | ä¸­ | å®ç°å¥å£®çš„å¥åº·æ£€æŸ¥å’Œè‡ªåŠ¨é‡å¯æœºåˆ¶ |
| **æ•°æ®åº“è¿ç§»é—®é¢˜** | ä¸­ | ä½ | æä¾›æ•°æ®å¯¼å…¥/å¯¼å‡ºå·¥å…·ï¼Œå……åˆ†æµ‹è¯• |
| **macOS ä»£ç ç­¾åè¦æ±‚** | é«˜ | ä¸­ | æå‰ç ”ç©¶ç­¾åæµç¨‹ï¼Œé¢„ç•™å……è¶³æ—¶é—´ |
| **æ€§èƒ½å›å½’** | ä¸­ | ä½ | æ€§èƒ½åŸºå‡†æµ‹è¯•ï¼ŒæŒç»­ç›‘æ§ |
| **ç”¨æˆ·ä½“éªŒå˜åŒ–** | ä½ | ä¸­ | ä¿æŒ UI ä¸€è‡´æ€§ï¼Œæ·»åŠ ä½¿ç”¨å¼•å¯¼ |

---

## 6. æˆæœ¬æ•ˆç›Šåˆ†æ

### å¼€å‘æˆæœ¬

| é¡¹ç›® | å·¥ä½œé‡ | å¤‡æ³¨ |
|------|--------|------|
| Tauri é¡¹ç›®è®¾ç½® | 1-2 å‘¨ | åˆå§‹åŒ–é…ç½® |
| Sidecar é›†æˆ | 2-3 å‘¨ | è¿›ç¨‹ç®¡ç†å’Œé€šä¿¡ |
| å‰ç«¯é€‚é… | 1-2 å‘¨ | API è°ƒç”¨è°ƒæ•´ |
| æµ‹è¯•å’Œä¼˜åŒ– | 2-3 å‘¨ | è´¨é‡ä¿è¯ |
| **æ€»è®¡** | **6-10 å‘¨** | çº¦ 1.5-2.5 ä¸ªæœˆ |

### æ”¶ç›Š

| æ”¶ç›Šç±»å‹ | æè¿° |
|----------|------|
| **ç”¨æˆ·ä½“éªŒ** | åŸç”Ÿ macOS åº”ç”¨ä½“éªŒï¼Œæ— éœ€æµè§ˆå™¨ |
| **åˆ†å‘ä¾¿åˆ©** | ç›´æ¥åˆ†å‘ DMG å®‰è£…åŒ…ï¼Œæ— éœ€ `npx` |
| **å“ç‰Œè®¤çŸ¥** | ç‹¬ç«‹åº”ç”¨æå‡äº§å“å½¢è±¡ |
| **ç¦»çº¿æ”¯æŒ** | æ›´å¥½çš„ç¦»çº¿å·¥ä½œèƒ½åŠ› |
| **ç³»ç»Ÿé›†æˆ** | ç³»ç»Ÿæ‰˜ç›˜ã€å¿«æ·é”®ã€é€šçŸ¥ç­‰ |

---

## 7. æŠ€æœ¯å†³ç­–å»ºè®®

### æ¨èæ–¹æ¡ˆ: **Sidecar æ¶æ„**

**ç†ç”±**:
1. **é£é™©æœ€å°åŒ–**: ä¿ç•™ç°æœ‰ç»è¿‡éªŒè¯çš„ Axum åç«¯
2. **å¼€å‘æ•ˆç‡**: å‡å°‘ 70%+ çš„é‡æ„å·¥ä½œé‡
3. **å¯ç»´æŠ¤æ€§**: ä¿æŒä»£ç åº“çš„ç†Ÿæ‚‰åº¦
4. **çµæ´»æ€§**: æœªæ¥å¯ä»¥é€‰æ‹©æ€§åœ°è¿ç§»éƒ¨åˆ†åŠŸèƒ½åˆ° IPC

### å…³é”®å†³ç­–ç‚¹

1. **IPC vs HTTP**
   - åˆæœŸ: ä½¿ç”¨ HTTP (Sidecar)
   - åæœŸ: è€ƒè™‘å°†é«˜é¢‘è°ƒç”¨è¿ç§»åˆ° IPC

2. **æ•°æ®åº“æ–¹æ¡ˆ**
   - æ¨è: ç»§ç»­ä½¿ç”¨ SQLx + SQLite
   - å¤‡é€‰: è€ƒè™‘ Tauri SQL æ’ä»¶ (ç®€åŒ–è·¨å¹³å°)

3. **å‰ç«¯æ„å»º**
   - æ¨è: ç»§ç»­ä½¿ç”¨ Vite
   - é…ç½®: è°ƒæ•´ä¸º Tauri ç”Ÿäº§æ„å»º

---

## 8. ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³è¡ŒåŠ¨

1. **æŠ€æœ¯éªŒè¯** (1 å‘¨)
   - åˆ›å»ºæ¦‚å¿µéªŒè¯ (PoC)
   - éªŒè¯ Sidecar è¿›ç¨‹é€šä¿¡
   - æµ‹è¯•æ•°æ®åº“æ–‡ä»¶è·¯å¾„å¤„ç†

2. **å›¢é˜Ÿè¯„å®¡**
   - è®¨è®ºæ¶æ„æ–¹æ¡ˆ
   - è¯„ä¼°èµ„æºæŠ•å…¥
   - ç¡®å®šä¼˜å…ˆçº§

### çŸ­æœŸè§„åˆ’ (1-2 ä¸ªæœˆ)

1. **å¼€å§‹è¿ç§»**
   - æ‰§è¡Œé˜¶æ®µ 1-2
   - å»ºç«‹å¼€å‘æµç¨‹
   - æŒç»­é›†æˆé…ç½®

2. **æŒç»­è¿­ä»£**
   - æ”¶é›†ç”¨æˆ·åé¦ˆ
   - ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
   - ä¿®å¤é—®é¢˜

---

## 9. ç»“è®º

Vibe Kanban è¿ç§»åˆ° Tauri **æŠ€æœ¯å¯è¡Œä¸”æ¨èå®æ–½**ã€‚é‡‡ç”¨ Sidecar æ¶æ„å¯ä»¥åœ¨ä¿æŒç°æœ‰ä»£ç åº“ç¨³å®šçš„åŒæ—¶ï¼Œè·å¾—åŸç”Ÿæ¡Œé¢åº”ç”¨çš„ä¼˜åŠ¿ã€‚

**å…³é”®æˆåŠŸå› ç´ **:
- âœ… é‡‡ç”¨æ¸è¿›å¼è¿ç§»ç­–ç•¥
- âœ… ä¿æŒç°æœ‰æ¶æ„çš„ç¨³å®šæ€§
- âœ… å……åˆ†çš„æµ‹è¯•å’ŒéªŒè¯
- âœ… æ¸…æ™°çš„é‡Œç¨‹ç¢‘å’Œäº¤ä»˜è®¡åˆ’

**é¢„æœŸæ”¶ç›Š**:
- æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
- æ›´å¼ºçš„äº§å“ç«äº‰åŠ›
- æ›´çµæ´»çš„åˆ†å‘æ–¹å¼
- ä¸ºæœªæ¥è·¨å¹³å°æ‰©å±•å¥ å®šåŸºç¡€

---

## é™„å½•

### A. å‚è€ƒèµ„æ–™

- [Tauri 2.0 å®˜æ–¹æ–‡æ¡£](https://v2.tauri.app/)
- [Tauri Sidecar æŒ‡å—](https://v2.tauri.app/develop/sidecar/)
- [Tauri macOS æ„å»ºæŒ‡å—](https://v2.tauri.app/distribute/macos-application-bundle/)
- [Axum åˆ° Tauri è¿ç§»æ¡ˆä¾‹](https://github.com/tauri-apps/tauri/tree/v2/examples)

### B. ä»£ç ç¤ºä¾‹

è¯¦è§ä¸Šæ–‡å„ç« èŠ‚çš„å…·ä½“å®ç°ç¤ºä¾‹ã€‚

### C. é¡¹ç›®æ–‡ä»¶ç»“æ„å»ºè®®

```
vibe-kanban/
â”œâ”€â”€ crates/                    # ç°æœ‰ Rust crates
â”‚   â”œâ”€â”€ server/               # Axum æœåŠ¡å™¨ (å°†æˆä¸º Sidecar)
â”‚   â”œâ”€â”€ db/
â”‚   â”œâ”€â”€ executors/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ frontend/                 # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ src-tauri/           # æ–°å¢: Tauri é…ç½®
â”‚   â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â”‚   â”œâ”€â”€ tauri.conf.json
â”‚   â”‚   â”œâ”€â”€ capabilities/
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ lib.rs
â”‚   â”‚       â””â”€â”€ commands.rs   # Tauri Commands
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ROADMAP/
â”‚   â””â”€â”€ tauri-migration-feasibility.md  # æœ¬æ–‡æ¡£
â””â”€â”€ ...
```

---

**æ–‡æ¡£ç»´æŠ¤**: æœ¬æ–‡æ¡£åº”åœ¨è¿ç§»è¿‡ç¨‹ä¸­æŒç»­æ›´æ–°ï¼Œè®°å½•å†³ç­–å˜æ›´å’Œç»éªŒæ•™è®­ã€‚
